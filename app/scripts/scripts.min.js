$(function(){"use strict";function a(){var a=$(window).width();a<768&&(console.log(a),$(document).bind("click",function(a){if(0===$(a.target).closest(".navbar").length){!0===$(".collapsible").hasClass("collapse in")&&$(".collapsible").collapse("hide"),$(".search-box").hide(),$(".search-box .form-control").val(""),a.preventDefault()}}),$(".collapsed").click(function(){$(".collapsible").collapse("hide")}),$(".menu-toggle").on("click",function(){$(this).parents(".menu").find(".dropdown").addClass("open"),$(this).parents(".menu").find(".dropdown-toggle").removeAttr("aria-expanded"),$(this).parents(".menu").find(".dropdown-toggle").removeAttr("aria-haspopup"),$(this).parents(".menu").find(".dropdown-toggle").removeAttr("data-toggle")}),$(".new-post-toggle").on("click",function(){$(this).parents(".menu").find(".add-post-dropdown").addClass("open"),$(this).parents(".menu").find(".add-post-toggle").removeAttr("aria-expanded"),$(this).parents(".menu").find(".add-post-toggle").removeAttr("aria-haspopup"),$(this).parents(".menu").find(".add-post-toggle").removeAttr("data-toggle")}),$(".search-toggle").click(function(){$(this).parents(".menu").find(".search-box").toggle(),$(this).parents(".menu").find(".search-box input").focus()}),$(".search-box .form-control").on("blur",function(){$(".search-box").hide(),$(this).val("")}),$(".form-search").submit(function(a){$(".search-box").hide(),$(this).val(""),a.preventDefault()}))}function b(){$.getJSON("./data.json",function(a){var b;$.each(a.links,function(a,c){console.log(c);var d=c.category,e=c.comments,f=c.created_at,g=c.upvotes,h=c.meta.author,i=c.meta.title,j=c.meta.url,k=c.isOwner;b='<li data-upvotes="'+g+'" data-comments="'+e+'" data-created-at="'+f+'">   <div class="upvotes-ctrl"><a href="javascript:void(0);" class="upvotes-btn fa fa-chevron-up text-center"></a><strong class="upvotes-text text-center">'+g+'</strong></div>   <div class="reddits-content">       <small class="category-small">'+d+'</small><a href="#" class="subject-link">'+j+'</a>       <h3 class="subject-title">'+i+'</h3>       <strong class="subject-category category-'+d+'-bg"><span>'+d+'</span></strong>       <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-user"></span>'+h+'</a>       <span class="subject-text-date subject-text-note">'+f+'<i></i></span>       <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-comment"></span>'+e+' <span class="subject-text-comment">comments</span></a>       <small class="subject-text-note upvotes-small">'+g+'<a href="javascript:void(0);" class="glyphicon glyphicon-arrow-up"></a></small>       <a href="javascript:void(0);" class="subject-text-note text-owner-edit">'+k+"</a>   </div></li>",$(".reddits").append(b)})})}function c(){$("#query").on("keyup",function(){$.getJSON("./data.json",function(a){var b=$("#query").val(),c=new RegExp(b,"i"),d="",e=0;$.each(a.links,function(a,b){-1===b.comments.toString().search(c)&&-1===b.created_at.toString().search(c)&&-1===b.upvotes.toString().search(c)&&-1===b.category.search(c)&&-1===b.meta.title.search(c)&&-1===b.meta.author.search(c)||(d+='<li  data-upvotes="'+b.upvotes+'" data-comments="'+b.comments+'" data-created-at="'+b.createdAt+'" id="'+a+'">   <div class="upvotes-ctrl"><a href="javascript:void(0);" class="upvotes-btn fa fa-chevron-up text-center"></a><strong class="upvotes-text text-center">'+b.upvotes+'</strong></div>   <div class="reddits-content">       <small class="category-small">'+b.category+'</small><a href="#" class="subject-link">'+b.meta.url+'</a>       <h3 class="subject-title">'+b.meta.title+'</h3>       <strong class="subject-category category-'+b.category+'-bg"><span>'+b.category+'</span></strong>       <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-user"></span>'+b.meta.author+'</a>       <span class="subject-text-date subject-text-note">'+b.created_at+'<i></i></span>       <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-comment"></span>'+b.comments+' <span class="subject-text-comment">comments</span></a>       <small class="subject-text-note upvotes-small">'+b.upvotes+'<a href="javascript:void(0);" class="glyphicon glyphicon-arrow-up"></a></small>       <a href="javascript:void(0);" class="subject-text-note text-owner-edit">'+b.isOwner+"</a>   </div></li>",e+=1)}),0===e&&(d='<li>   <div class="panel-results-feedback">       <div class="feedback-content">           <h4>No results found...</h4>       </div>   </div></li>'),$(".reddits").html(""),$(d).hide().appendTo(".reddits").fadeIn(300)})})}function d(a){function b(b,c){return $(c).data(a)>$(b).data(a)?1:-1}$(".reddits > li").sort(b).appendTo(".reddits")}function e(a){function b(b,c){return $(c).data(a)<$(b).data(a)?1:-1}$(".reddits > li").sort(b).appendTo(".reddits")}function f(a){if("upvotes"===a){var b=$(".list-pop > i");$(b).toggleClass("fa-caret-down"),$(b).toggleClass("fa-caret-up"),$(b).hasClass("fa-caret-down")?d(a):e(a)}if("comments"===a){var c=$(".list-comments > i");$(c).toggleClass("fa-caret-down"),$(c).toggleClass("fa-caret-up"),$(c).hasClass("fa-caret-down")?d(a):e(a)}else if("created-at"===a){var f=$(".list-date > i");$(".list-date > i").toggleClass("fa-caret-down"),$(".list-date > i").toggleClass("fa-caret-up"),$(f).hasClass("fa-caret-down")?d(a):e(a)}}function g(){$(".list-pop").click(function(){f("upvotes")}),$(".list-comments").click(function(){f("comments")}),$(".list-date").click(function(){f("created-at")})}a(),b(),c(),g()});