$(function(){"use strict";function t(){var t=$(window).width();768>t&&(console.log(t),$(document).bind("click",function(t){if(0===$(t.target).closest(".navbar").length){var e=$(".collapsible").hasClass("collapse in");e===!0&&$(".collapsible").collapse("hide"),$(".search-box").hide(),$(".search-box .form-control").val(""),t.preventDefault()}}),$(".collapsed").click(function(){$(".collapsible").collapse("hide")}),$(".menu-toggle").on("click",function(){$(this).parents(".menu").find(".dropdown").addClass("open"),$(this).parents(".menu").find(".dropdown-toggle").removeAttr("aria-expanded"),$(this).parents(".menu").find(".dropdown-toggle").removeAttr("aria-haspopup"),$(this).parents(".menu").find(".dropdown-toggle").removeAttr("data-toggle")}),$(".new-post-toggle").on("click",function(){$(this).parents(".menu").find(".add-post-dropdown").addClass("open"),$(this).parents(".menu").find(".add-post-toggle").removeAttr("aria-expanded"),$(this).parents(".menu").find(".add-post-toggle").removeAttr("aria-haspopup"),$(this).parents(".menu").find(".add-post-toggle").removeAttr("data-toggle")}),$(".search-toggle").click(function(){$(this).parents(".menu").find(".search-box").toggle(),$(this).parents(".menu").find(".search-box input").focus()}),$(".search-box .form-control").on("blur",function(){$(".search-box").hide(),$(this).val("")}),$(".form-search").submit(function(t){$(".search-box").hide(),$(this).val(""),t.preventDefault()}))}function e(){$.getJSON("./data.json",function(t){var e;$.each(t.links,function(t,a){console.log(a);var s=a.category,o=a.comments,n=a.created_at,c=a.upvotes,i=a.meta.author,l=a.meta.title,r=a.meta.url,d=a.isOwner;e='<li data-upvotes="'+c+'" data-comments="'+o+'" data-created-at="'+n+'"> <div class="upvotes-ctrl"><a href="javascript:void(0);" class="upvotes-btn fa fa-chevron-up text-center"></a><strong class="upvotes-text text-center">'+c+'</strong></div> <div class="reddits-content">   <small class="category-small">'+s+'</small><a href="#" class="subject-link">'+r+'</a>   <h3 class="subject-title">'+l+'</h3>   <strong class="subject-category category-'+s+'-bg"><span>'+s+'</span></strong>   <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-user"></span>'+i+'</a>   <span class="subject-text-date subject-text-note">'+n+'<i></i></span>   <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-comment"></span>'+o+' <span class="subject-text-comment">comments</span></a>   <small class="subject-text-note upvotes-small">'+c+'<a href="javascript:void(0);" class="glyphicon glyphicon-arrow-up"></a></small>   <a href="javascript:void(0);" class="subject-text-note text-owner-edit">'+d+"</a> </div></li>",$(".reddits").append(e)})})}function a(){$("#query").on("keyup",function(){$.getJSON("./data.json",function(t){var e=$("#query").val(),a=new RegExp(e,"i"),s="",o=0;$.each(t.links,function(t,e){(-1!==e.comments.toString().search(a)||-1!==e.created_at.toString().search(a)||-1!==e.upvotes.toString().search(a)||-1!==e.category.search(a)||-1!==e.meta.title.search(a)||-1!==e.meta.author.search(a))&&(s+='<li  data-upvotes="'+e.upvotes+'" data-comments="'+e.comments+'" data-created-at="'+e.createdAt+'" id="'+t+'"> <div class="upvotes-ctrl"><a href="javascript:void(0);" class="upvotes-btn fa fa-chevron-up text-center"></a><strong class="upvotes-text text-center">'+e.upvotes+'</strong></div>   <div class="reddits-content">   <small class="category-small">'+e.category+'</small><a href="#" class="subject-link">'+e.meta.url+'</a>   <h3 class="subject-title">'+e.meta.title+'</h3>   <strong class="subject-category category-'+e.category+'-bg"><span>'+e.category+'</span></strong>   <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-user"></span>'+e.meta.author+'</a>   <span class="subject-text-date subject-text-note">'+e.created_at+'<i></i></span>   <a href="javascript:void(0);" class="subject-text-note"><span class="subject-text-ico fa fa-comment"></span>'+e.comments+' <span class="subject-text-comment">comments</span></a>   <small class="subject-text-note upvotes-small">'+e.upvotes+'<a href="javascript:void(0);" class="glyphicon glyphicon-arrow-up"></a></small>   <a href="javascript:void(0);" class="subject-text-note text-owner-edit">'+e.isOwner+"</a> </div></li>",o+=1)}),0===o&&(s='<li> <div class="panel-results-feedback">   <div class="feedback-content">     <h4>No results found...</h4>   </div> </div></li>'),$(".reddits").html(""),$(s).hide().appendTo(".reddits").fadeIn(300)})})}function s(){$(".list-pop").click(function(){o("upvotes")}),$(".list-comments").click(function(){o("comments")}),$(".list-date").click(function(){o("created-at")})}function o(t){if("upvotes"===t){var e=$(".list-pop > i");$(e).toggleClass("fa-caret-down"),$(e).toggleClass("fa-caret-up"),$(e).hasClass("fa-caret-down")?n(t):c(t)}if("comments"===t){var e=$(".list-comments > i");$(e).toggleClass("fa-caret-down"),$(e).toggleClass("fa-caret-up"),$(e).hasClass("fa-caret-down")?n(t):c(t)}else if("created-at"===t){var a=$(".list-date > i");$(".list-date > i").toggleClass("fa-caret-down"),$(".list-date > i").toggleClass("fa-caret-up"),$(a).hasClass("fa-caret-down")?n(t):c(t)}}function n(t){function e(e,a){return $(a).data(t)>$(e).data(t)?1:-1}$(".reddits > li").sort(e).appendTo(".reddits")}function c(t){function e(e,a){return $(a).data(t)<$(e).data(t)?1:-1}$(".reddits > li").sort(e).appendTo(".reddits")}t(),e(),a(),s()});